---
output:
  html_document: default
  pdf_document: default
  header-includes:
    - \usepackage{caption}
---
# R Data Types and Data Structures

*When human judgement and big data intersect there are some funny things that happen.* 
-Nate Silver 

## Data Types

- As per R's official language definitions; in every computer language variables provide a means of accessing the data stored in memory. 

- R does not provide direct access to the computer's memory but rather provides a number of specialized data structures we will refer to as objects. These objects are referred to through symbols or variables. 

### Double

- Doubles are numbers like 5.0, 5.5, 10.999 etc. They may or may not include decimal places. Doubles are mostly used to represent a continuous variable like serial number, weight, age etc. 

```{r}
x=8.5
is.double(x) #to check if the data type is double
```

### Integer

- Integers are natural numbers. 

```{r}
x=9
typeof(x)
```


```{r}
#The following specifically assigns an integer to x

x=as.integer(9)
typeof(x)
```

### Logical

- A variable of data type logical has the value TRUE or FALSE. To perform calculation on logical objects in R the FALSE is replaced by a zero and TRUE is replaced by 1.

```{r}
x=11
y=10
a=x>y
a
typeof(a)
```



### Character

- Characters represent the string values in R. An object of type character can have alphanumeric strings. Character objects are specified by assigning a string or collection of characters between double quotes (“ string”) . Everything in a double quote is considered a string in R.

### Factor
-Factor is an important data type to represent categorical data. This also comes handy when dealing with Panel or Longitudinal data. Example of factors are Blood type (A , B, AB, O), Sex (Male or Female). Factor objects can be created from character object or from numeric object. 
-The operator c is used to create a vector of values which can be of any data type.
```{r}
b.type=c("A","AB","B","O") #character object
#use factor function to convert to factor object
b.type=factor(b.type)
b.type
#to get individual elements (levels) in factor object
levels(b.type)
```

### Date & Time
-R is capable of dealing calendar dates and times. It is an important object when dealing with time series models. The function `as.Date` can be used to create an object of class Date.
- see `help(as.Date)` for more details about the format of dates.

```{r}
date1="31-01-2012"
date1=as.Date(date1,"%d-%m-%Y")
date1

data.class(date1)
#The date and time are internally interpreted as Double so the function typeof will return the type Double
typeof(date1)
```

## Data Structures in R
Every data analysis requires the data to be structured in a well defined way. These coherent ways to put together data forms some basic data structures in R. Every data set intended for analysis has to be imported in R environment as a data structure. R has the following basic data structures:

• Vector

• Matrix

• Array

• Data Frame

• Lists


### Vector
- Vectors are group of values having same data types. 

- There can be numeric vectors, character vector and so on. Vectors are mostly used to represent a single variable in a data set. 

- A vector is constructed using the function `c`. The same function `c` can be used to combine different vectors of same data type.

```{r}
vec1=c(1,2,3,4,5)
vec1
```
> The `str` function can be used to view the data structure of an object

### Matrices

- A matrix is a collection of data elements arranged in a two-dimensional rectangular layout. Like vectors all the elements in a matrix are of same data type. 

$\left[\begin{array}{cc}
1 & 2\\
3 & 4\\
5 & 6
\end{array}\right]$

-  The function $\mathtt{matrix}$ is used to create matrices in R. Note that all the elements in a matrix object are of same basic type. Lets create the matrix in the example above.


```{r}
m1=matrix(c(1,2,3,4,5,6),nrow=3,ncol=2,byrow=TRUE)
#nrow-specify number of rows,
#ncol-specify number of columns,
#byrow-fill the matrix in rows with the data supplied
m1 #print the matrix
```


- A vector can be converted to matrix using $\mathtt{dim}$ function, e.g:

```{r}
m2=c(1,2,3,4,5,6)
dim(m2)=c(3,2)#the matrix will be filled by columns
m2
#use dim to get the dimension (#rows and #columns) of a matrix
dim(m1) 
```

** Matrix Manipulations **

- For calculations on matrices; all the mathematical functions available for vectors are applicable on a matrix. All operations are applied on each element in a matrix, e.g.

```{r}
m3=m1*2 # all elements will be multiplied by 2 individually
m3
```

- A matrix can be multiplied with a vector as long as the length of the vector is a multiple of length of the matrix. Try different combinations of matrix and vector arithmetic to see the results and errors. 

- Mathematical matrix operations are also available for matrices in R. For instance $\mathtt{\%*\%}$ is used for matrix multiplication, the matrices must agree dimensionally for matrix multiplication. Note the use of $\mathtt{:}$ operator to create a sequence.

```{r}
dim(m1)# 3 rows and 2 columns
#create another matrix with 2 rows and 3 columns
m3=matrix(c(1:6),ncol=3)
m1%*%m3
```

R facilitates various matrix specific operations. Table 1 gives most of the available functions and operators. Use $\mathtt{help()}$ or $\mathtt{?}$ followed by function name to get more details about the operators and functions. 

<div class='float-table'><div class="plain_layout" id='magicparlabel-976'><span class='float-caption-Standard float-caption float-caption-standard'>Table :  Functions and operators for matrices</span></div>
<div class="plain_layout" style='text-align: left;' id='magicparlabel-981'><table><tbody><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1040'><b>Operator or Function</b></div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1043'><b>Description</b></div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1046'>X * Y </div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1049'>Element-wise multiplication</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1052'>X %*% Y</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1055'>Matrix multiplication</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1058'>Y %o% X </div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1061'>Outer product. XB' </div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1064'>crossprod(X,Y)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1067'>X'Y </div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1070'>crossprod(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1073'> X'X</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1076'>t(X) </div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1079'>Transpose</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1082'>diag(x)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1085'>Creates diagonal matrix with elements of x in the principal diagonal</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1088'>diag(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1091'>Returns a vector containing the elements of the principal diagonal</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1094'>diag(k)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1097'>If k is a scalar, this creates a k x k identity matrix. Go figure.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1100'>solve(X, b)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1103'>Returns vector x in the equation b = Xx (i.e., X-1b)</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1106'>solve(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1109'>Inverse of X where X is a square matrix.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1112'>y=eigen(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1115'>y$val are the eigenvalues of X</div>
</td>
</tr><tr><td align='left' valign='top'>

</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1121'>y$vec are the eigenvectors of X</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1124'>y=svd(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1127'>Singular value decomposition of X.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1130'>R = chol(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1133'>Choleski factorization of X. Returns the upper triangular factor, such that R'R = X.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1136'>y = qr(X) </div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1139'>QR decomposition of X.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1142'>cbind(X,Y,...)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1145'>Combine matrices(vectors) horizontally. Returns a matrix.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1148'>rbind(X,Y,...)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1151'>Combine matrices(vectors) vertically. Returns a matrix.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1154'>rowMeans(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1157'>Returns vector of row means.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1160'>rowSums(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1163'>Returns vector of row sums.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1166'>colMeans(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1169'>Returns vector of column means.</div>
</td>
</tr><tr><td align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1172'>colSums(X)</div>
</td>
<td style ="width: 9cm;" align='left' valign='top'>
<div class="plain_layout" id='magicparlabel-1175'>Returns vector of column means.</div>
</td>
</tr></tbody>
</table>
</div>
</div>


### Arrays

- Arrays are the generalisation of vectors and matrices. A vector in R is a one dimensional array and a matrix a two dimensional array. An array is a multiply subscripted collection of data entries of the same data type. Arrays can be constructed using the function $\mathtt{array}$, for example[^5] 

[^5]: Function $\mathtt{dim}$ can also be used to define an array by assigning dimensions to a vector.

```{r}
z=c(1:24)#vector of length 24
#constructing a 3 by 4 by 2 array
a1=array(z,dim=c(3,4,2)) 
a1
```

- Individual elements of an array are accessed by referring them by their index. This is done by giving the name of the array followed by the subscript (index) in this square bracket separated by commas. We try to access the element [1,3,1] of array a1 in the following example 

```{r}
#element in the row 1 and column 3 in the first subset
a1[1,3,1]
```


- Next we discuss the Data Frames which are the most convenient data structures for data analysis in R. 

